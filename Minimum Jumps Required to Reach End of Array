#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int MinimumJumps(std::vector<int>& arr)  {
    int n = static_cast<int>(arr.size());
    if (n <= 1) return 0;
    if (arr[0] == 0) return -1;

    int jumps = 0;
    int currEnd = 0;        // End of the current window
    int currFarthest = 0;   // Farthest we can reach so far

    // We stop at n-2 because once we reach or cross n-1,
    // we don't need to consider further jumps, so break from loop.
    for (int i = 0; i < n - 1; ++i) {
        currFarthest = std::max(currFarthest, i + arr[i]);

        // If we must end the current window
        if (i == currEnd) 
        {
            ++jumps;
            currEnd = currFarthest;
            if (currEnd <= i) {
                // No progress made; unreachable
                return -1;
            }
            if (currEnd >= n - 1) {
                break;
            }
        }
    }
    return jumps;
}

int main()
{
    std::vector<int> arr1 = {2, 3, 1, 1, 4};
    std::vector<int> arr2 = {3,2,1,0,4}; // classic case
    
    cout << "min jumps required to reach end: " << MinimumJumps(arr2) << endl;
    return 0;
}
